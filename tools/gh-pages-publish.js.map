{"version":3,"file":"gh-pages-publish.js","sourceRoot":"","sources":["gh-pages-publish.ts"],"names":[],"mappings":";AAAA,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;AACpD,MAAM,EAAE,YAAY,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;AACtC,MAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,CAAA;AAE1B,IAAI,OAAO,CAAA;AACX,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,cAAc,CAAQ,CAAC,CAAA;AACzD,IAAI,OAAO,GAAG,CAAC,UAAU,KAAK,QAAQ,EAAE;IACtC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;QACzC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAA;KAC5D;IACD,OAAO,GAAG,GAAG,CAAC,UAAU,CAAC,GAAG,CAAA;CAC7B;KAAM;IACL,OAAO,GAAG,GAAG,CAAC,UAAU,CAAA;CACzB;AAED,IAAI,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;AAClC,IAAI,CAAC,mBAAmB,CAAC,CAAA;AACzB,EAAE,CAAC,MAAM,CAAC,CAAA;AACV,KAAK,CAAC,WAAW,CAAC,CAAA;AAClB,IAAI,CAAC,UAAU,CAAC,CAAA;AAChB,IAAI,CAAC,WAAW,CAAC,CAAA;AACjB,IAAI,CAAC,yCAAyC,CAAC,CAAA;AAC/C,IAAI,CAAC,gDAAgD,CAAC,CAAA;AACtD,IAAI,CAAC,6CAA6C,CAAC,CAAA;AACnD,IAAI;AACF,yFAAyF;AACzF,iCAAiC,SAAS,CAAC,IAAI,IAAI,SAAS,CAAC,IAAI,uBAAuB,CAAC,MAAM;CAChG,CAAA;AACD,IAAI,CAAC,iBAAiB,CAAC,CAAA","sourcesContent":["const { cd, exec, echo, touch } = require(\"shelljs\")\r\nconst { readFileSync } = require(\"fs\")\r\nconst url = require(\"url\")\r\n\r\nlet repoUrl\r\nlet pkg = JSON.parse(readFileSync(\"package.json\") as any)\r\nif (typeof pkg.repository === \"object\") {\r\n  if (!pkg.repository.hasOwnProperty(\"url\")) {\r\n    throw new Error(\"URL does not exist in repository section\")\r\n  }\r\n  repoUrl = pkg.repository.url\r\n} else {\r\n  repoUrl = pkg.repository\r\n}\r\n\r\nlet parsedUrl = url.parse(repoUrl)\r\necho(\"Deploying docs!!!\")\r\ncd(\"docs\")\r\ntouch(\".nojekyll\")\r\nexec(\"git init\")\r\nexec(\"git add .\")\r\nexec('git config user.name \"Thomas Champagne\"')\r\nexec('git config user.email \"th.champagne@gmail.com\"')\r\nexec('git commit -m \"docs(docs): update gh-pages\"')\r\nexec(\r\n  // `git push --force --quiet \"https://${ghToken}@${repository}\" master:gh-pages` // https\r\n  `git push --force --quiet \"git@${parsedUrl.host}:${parsedUrl.path}.git\" master:gh-pages` // ssh\r\n)\r\necho(\"Docs deployed!!\")\r\n"]}